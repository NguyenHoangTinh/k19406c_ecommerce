<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Product</title>
    <script src="https://www.w3schools.com/lib/w3.js"></script>
    <style>
      body {
        width: 100%;
        margin: auto;
        background-color: maroon;
      }
      .column {
        float: left;
        width: 20%;
      }
      .row {
        text-align: center;
      }
      #category {
        display: flex;
      }
      .main {
        display: flex;
      }
    </style>
  </head>
  <body style="background-color: grey">
    <div>
      <p w3-include-html="./menu.html"></p>
    </div>
    <div class="main" id="category"></div>
    <script>
      var xhttp = new XMLHttpRequest();
      var url = "../data/category.json";
      xhttp.onreadystatechange = function () {
        if (this.readyState == 4 && this.status == 200) {
          var myArr = JSON.parse(this.responseText);
          formatCategory(myArr);
          alert(arr.length);
        }
      };
      xhttp.open("GET", url, true);
      xhttp.send();

      function formatCategory(arr) {
        var category = "<div class='row'>";
        for (i = 0; i < arr.length; i++) {
          category +=
            "<div class='column'><a href='" +
            arr[i].url +
            "'><div class='card'><img src='" +
            arr[i].icon_url +
            "'/><h2>" +
            arr[i].name +
            "</h2><div></a></div>";
        }
        category += "</div>";
        document.getElementById("category").innerHTML = category;
      }
    </script>
    <script>
      w3.includeHTML();
    </script>
  </body>
</html>
